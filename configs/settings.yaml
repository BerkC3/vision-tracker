model:
  path: "yolov8x.pt"   # any Ultralytics YOLO model — yolo11n/s/m/l/x or yolov8n/s/m/l/x
  confidence: 0.4
  iou_threshold: 0.5
  device: "auto"  # auto | cpu | cuda | cuda:0
  imgsz: 1920     # inference resolution (640, 1280, 1920) - RTX 4080 Super handles 1920
  classes: [2, 3, 5, 7]  # COCO: car, motorcycle, bus, truck

# Note: tracker parameters below are for reference only — the code uses Ultralytics'
# built-in botsort.yaml defaults. To customise, copy botsort.yaml from the Ultralytics
# package and pass its path to VehicleTracker(tracker_config=...).
tracker:
  type: "botsort"  # botsort | bytetrack
  track_high_thresh: 0.5
  track_low_thresh: 0.1
  new_track_thresh: 0.6
  track_buffer: 30
  match_thresh: 0.8

speed:
  line1_y_ratio: 0.4          # default fallback (fraction of frame height)
  line2_y_ratio: 0.65
  real_distance_m: 15.0       # real-world distance between lines (meters)
  smoothing_window: 5
  calibration_mode: true      # true = show first frame and let user draw lines interactively
  calibration_skip_seconds: 5 # skip this many seconds before grabbing calibration frame (avoids camera shake)

violation:
  roi_polygon: []  # set via UI or here as [[x1,y1],[x2,y2],...]
  # Each (vehicle_id, zone) pair is recorded exactly once — no cooldown, no duplicates.

display:
  show_trails: true
  trail_length: 30
  show_speed: true
  show_roi: true
  box_thickness: 2
  font_scale: 0.6
  stats_opacity: 0.35  # stats panel background opacity (0.0=invisible, 1.0=opaque)
  max_w: 1920           # max display width for calibration and live windows
  max_h: 1080           # max display height for calibration and live windows

output:
  save_violations: true   # persist violations to the SQLAlchemy database (see DATABASE_URL)
  output_dir: "outputs"   # used by video writer and snapshot exports
